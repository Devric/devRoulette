<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title></title>
        <script>!window.jQuery && document.write('<script src="js/jquery.js"><\/script>')</script>
        <script src="js/jquery.animate.rotate.js"></script>
        <script src="js/jquery.css.transform.patch.js"></script>
    <style type="text/css">
        * { margin:0; padding:0;  }
        #spinner { position:relative; }
        #spinner .boxparent {
            width:100%;
            height:100%;
            position:absolute;
        }
        #spinner .box { 
            width: 100px;
            height:60px;
            overflow:hidden;
            position:absolute;
        }
        #spinner img { width:120px; height:auto }
    </style>
    <script type="text/javascript">

(function($){ 
    $.fn.extend({
        devRoulette: function(options){
            var defaults = {
                speed : 1000,
                next : '#next',
                prev : '#prev'
            };
            var options = $.extend(defaults, options);
            return this.each(function(){
                var o = options; //use it by o.animatePadding
                

                //assign current element to var
                var obj = $(this),
                    box = obj.find('.box'),
                    bn = box.find('img').length,      // box number
                    bw = box.width(),                 // box width
                    bh = box.height(),                // box height
                    c = 360;                          // full circle
                    

                if( bn <= 2 ) {} else { } // ============== todo

                // calculations
                var fullRotate = c / bn,    // calculate number of equal rotation from the midpoint of each box
                    theta = fullRotate / 2, // theta, half of two midpoints, depending on number of boxes

                    //inner radius
                    innerRadius = (bw / 2 )/ tan(theta),   // get adjcent(inner radius) by opposite dvide by tan0

                    // get outer radius
                    fullHeight = innerRadius + bh;         // inner radius + box height
                    
                    // get full radius
                    fullRadius = fullHeight/cos(theta),    // adjcent divide cos0 = hypothenus
                    diameter = fullRadius * 2;

                // positioning
                obj.css({  
                    // print the container size
                    width:diameter,
                    height:diameter,
                    transform: 'rotate(0deg)'
                });

                // setup
                box
                .css({
                    'margin-left': (diameter - bw ) / 2 // calculat left margin by (diameter - boxwidth) /2
                    })
                .wrap('<div class="boxparent"></div>');
                $('.boxparent').each(function(index){
                    var thisIndex = $(this).index(),
                        thisRotation = thisIndex * fullRotate;
                    $(this).css('transform','rotate( '+thisRotation+'deg)');
                });

                // action
                $(o.next).click(function() {
                    if( !obj.is(":animated") ) {
                        obj.animate({rotate: '-='+fullRotate+'deg'}, o.speed);
                    }
                });
                $(o.prev).click(function() {
                    if( !obj.is(":animated") ) {
                        obj.animate({rotate: '+='+fullRotate+'deg'}, o.speed);
                    }
                });

            });

            // helper function
            function cos(theta) { return r(Math.cos(theta * Math.PI/180)) } //cah
            function tan(theta) { return Math.tan(theta * Math.PI/180) } //toa
            function r(r) { return Math.round(r ) } // rounding and eg: to decimal round it to 5 decimal (r *100000 ) /100000
        }
    });
})(jQuery); //end menu

        $(document).ready(function() {
            $('#spinner').devRoulette({
                speed:1500,
                next : '#n',
                prev : '#p'
            });
        });
    </script>
    </head>
    <body> 
        <div id="spinner">
            <div class="box"><img src="img/1.jpg"/></div>
            <div class="box"><img src="img/2.jpg"/></div>
            <div class="box"><img src="img/3.jpg"/></div>
            <div class="box"><img src="img/3.jpg"/></div>
            <div class="box"><img src="img/4.jpg"/></div>
        </div>
        <div id="n">next</div>
        <div id="p">prev</div>
    </body>
</html>
